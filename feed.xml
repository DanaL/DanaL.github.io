<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:base="https://danarama.ca">
    <title>The Danarama blog</title>
    <subtitle>All the Dana news you need</subtitle>
    <id>https://danarama.ca</id>
    <link href="https://danarama.ca" rel="self"/>
    <link href="https://danarama.ca"/>
    <updated>2024-03-18T04:04:35Z</updated>
    <author>
        <name>Dana</name>
        <email>ywg.dana+rss@gmail.com</email>
    </author>


 <entry>
    <title>Might &amp; Magic</title>
    <link href="https://danarama.ca/posts/2024/post8/"/>
    <updated>2024-03-17T00:00:00Z</updated>
    <id>https://danarama.ca/posts/2024/post8/</id>
    <summary>In which I revisit a game from my childhood</summary>
    <content xml:lang="en" type="html">&lt;p&gt;This weekend, I got it into my head to play a game I wasted many hours in high school on: Might &amp;amp; Magic 1. (Or, to go by its full title: Might &amp;amp; Magic Book 1: Secret of the Inner Sanctum) I recall that this one of the very first games I saved up my allowance for and bussed across town to go pick up at the game store in town that had it in stock. (The late 80s were a different time...)&lt;/p&gt;
&lt;h3 id=&quot;what-is-might-%26-magic%3F&quot; tabindex=&quot;-1&quot;&gt;What is Might &amp;amp; Magic?&lt;/h3&gt;
&lt;p&gt;Don&#39;t confuse M&amp;amp;M with Heroes of Might &amp;amp; Magic, a series of strategy games that were a spin-off and I think much more popular.&lt;/p&gt;
&lt;p&gt;Might &amp;amp; Magic is a computer RPG in dungeon crawl subgenre popularized by Wizardry and Bard&#39;s Tale. The gist is: you have a vaguely defined quest and need to a assemble a party of more or less D&amp;amp;D-esque characters to go fight monsters. Combat is usually just text-based (instead of top-down strategic combat found in the Ultima or D&amp;amp;D Gold Box games). Wizardry and Bard&#39;s Tale 1 give you the flimsiest quest and M&amp;amp;M 1 gives you even less: it doesn&#39;t tell you why you should be exploring the world. I don&#39;t remember what the ultimate quest or story is but I gather from reading a few blog posts, as you explore you eventually get kind of a quest. But in that era, it was simply understood that you were going to create a party and then go seek the dopamine hit of leveling up and finding neat magic items.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/mmexploring.png&quot; alt=&quot;Screenshot of Might &amp;amp; Magic 1&quot;&gt;
&lt;em&gt;State of the art graphics/dungeon exploration in 1986&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;what-passed-for-fun-in-the-80s&quot; tabindex=&quot;-1&quot;&gt;What passed for fun in the 80s&lt;/h3&gt;
&lt;p&gt;Now, the ancient hardware these old games ran on didn&#39;t give the developers much to work with in terms of processor power for features. There was no automap and so the intrepid adventurer needed to map out the game&#39;s levels by hand. On paper.&lt;/p&gt;
&lt;p&gt;But! I really enjoyed this! You had a sense of accomplishment as you filled in more and more of your current dungeon and accumulated this stack of completed maps. Your quests often became things like: finish mapping this level, find the stairs to the next level, figure out how to get to the block of squares you haven&#39;t been able to reach. And, when you finish the game, you have a souvenier of your playthrough.&lt;/p&gt;
&lt;p&gt;I can&#39;t remember if Might &amp;amp; Magic did this, but Bard&#39;s Tale definitely had a lot of things designed specifically to make mapping harder. Teleporters where the game might not tell you that you&#39;d been teleported, squares that spin you around, magic darkness forcing you to feel your way around (M&amp;amp;M has dark squares, at least I&#39;ve discovered). And sometimes combos of those things.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/mapping.jpeg&quot; alt=&quot;Photo of a hand drawn map from Might and Magic&quot;&gt;
&lt;em&gt;No really, I find this fun!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Might &amp;amp; Magic 1 has a wilderness divided into mapable chunks, 5 towns and many dungeon levels, and some castles. 55 levels in total so I&#39;m going to have quite the stack of paper by the end. I recall that the game actually came with a pad of gridded paper for you to use.&lt;/p&gt;
&lt;h3 id=&quot;you-know-what&#39;s-less-fun-though%3F&quot; tabindex=&quot;-1&quot;&gt;You know what&#39;s less fun though?&lt;/h3&gt;
&lt;p&gt;Good god this game is hard! Like, punishingly difficult. I don&#39;t mean the puzzles are hard or that the game is presenting strategically difficult situations. The game just constantly throws fights at you that wipe your party out before you even really have a chance to do anything. Fleeing from battles almost never works so the play loop is mostly: leave the safety of the inn, find 1 or 2 random encounters that you hopefully survive and then you run back to the inn to save. Oh yeah, you can only save at a town&#39;s inn so if you find a particularly good magic item you have to flee back to save your characters, desperately hoping you don&#39;t hit a total party kill before you get back.&lt;/p&gt;
&lt;p&gt;I think I&#39;m lucky if for every 30 minutes I play, I manage 5 or 10 minutes of saved progress. At least the maps I draw before my party is wiped out don&#39;t, like, burst into flames. I get to keep that progress...&lt;/p&gt;
&lt;p&gt;I remember Bard&#39;s Tale being that difficult in the very early stages of the game and you&#39;d have the occasional tpk. But I&#39;ve leveled up my gang a few times, found some better gear, and even then I still get completely wiped out ever other fight. I might have turned a corner though because my sorcerer just got high enough level to cast fireball, which might be a game changer. At least until I have to move on to an even more dangerous area of the game...&lt;/p&gt;
&lt;p&gt;I&#39;d completely forgotten this was considered fairly normal for computer RPGs. I haven&#39;t played any of the Wizardry games, but the early ones have a reputation for brutal difficulty and I wonder how Might &amp;amp; Magic compared. Reviewers at the time mentioned its difficulty but that was just considered part of the gameplay and not, say, poor game design. If nothing else, it certainly extends play time and I guess in that sense provides for entertainment for your dollar?&lt;/p&gt;
&lt;h3 id=&quot;m%26m-two%3F-three%3F%3F-four%3F%3F%3F&quot; tabindex=&quot;-1&quot;&gt;M&amp;amp;M Two? Three?? FOUR???&lt;/h3&gt;
&lt;p&gt;I did finish Might &amp;amp; Magic 1 back in my Commodore 64 days and I also bought its sequel but I don&#39;t think I got far into it. I think performance was a bit poor on the aged C64 platform. Slow load times and spinning floppy discs are extra painful in a game when you are restarting ever 10 or 15 minutes...&lt;/p&gt;
&lt;p&gt;I never played any of the other main Might &amp;amp; Magic games, and the 10 installment came out in 2014!&lt;/p&gt;
&lt;p&gt;If I don&#39;t abandon the first game and don&#39;t hate it or myself by the end, I think I&#39;d like to try Two and Three at the very least. I bought a bundle of the first six games for a pittance on &lt;a href=&quot;https://www.gog.com/&quot;&gt;GoG.com&lt;/a&gt; ages ago. They&#39;re still there for just $10, if you have a lot of time on your hands, enjoy drawing maps by hand, and don&#39;t might a little dose of immense frustration.&lt;/p&gt;
</content>
</entry>



 <entry>
    <title>Dev Diary 4</title>
    <link href="https://danarama.ca/posts/2024/post7/"/>
    <updated>2024-03-09T00:00:00Z</updated>
    <id>https://danarama.ca/posts/2024/post7/</id>
    <summary>This week(?) in roguelike dev!</summary>
    <content xml:lang="en" type="html">&lt;p&gt;Before we get to the dev diary, cast your gaze off to the right! (Unless you&#39;re on mobile...) My friend &lt;a href=&quot;https://ko-fi.com/radiantlethe&quot;&gt;Catarina&lt;/a&gt; has knocked it out of the park once again, this time with a logo for my Yarl-related posts. I have this expression much of the time I spend working on code. Other top coding expressions: utter bafflement, occasional anger, and occasionally despair.&lt;/p&gt;
&lt;p&gt;No but coding is really very fun!&lt;/p&gt;
&lt;h3 id=&quot;what&#39;s-new-in-yarl%3F&quot; tabindex=&quot;-1&quot;&gt;What&#39;s new in Yarl?&lt;/h3&gt;
&lt;p&gt;We continue our quest toward the semi-mythical Minimum Viable Dungeon. For me, writing this game feels a bit like exploring a dungeon. I&#39;m venturing into unknown territory obscured by darkness and wandering down many twists and turns, occasionally finding a dead-end and having to backtrack.&lt;/p&gt;
&lt;p&gt;Some roguelikes have chasms where you can fall or jump deeper into the dungeon, which is something I wanted in my game. While, Brogue for instance simply shows dark squares for the chasm, I had the idea that the player would be able to faintly see the level below, so I tried to implement that. In this image, the dark/faint squares to the left and right of the character are actually the next level down. So, once I code in the ability to fall between levels, you&#39;ll be able to see what&#39;s below should you jump, fall, or get pushed of the edge of a precipice.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/chasm.png&quot; alt=&quot;The character crossing a chasm&quot;&gt;
&lt;em&gt;The player is on a wooden bridge spanning a chasm&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I haven&#39;t finalized the look, yet. I think one some monitors the squares of the level below might be too faint. But I wanted it to be visually obvious that those tiles weren&#39;t on your currently level. I might also make the squares that form the edge of the chasm distinct from other floor tiles. Things to think about when I&#39;m polishing the game later on.&lt;/p&gt;
&lt;h3 id=&quot;ooo-vfx!&quot; tabindex=&quot;-1&quot;&gt;Ooo VFX!&lt;/h3&gt;
&lt;p&gt;I had an idea for an animation to add to the game, a visual indication of when someone is hit in melee:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/fightanim.gif&quot; alt=&quot;Animation showing his during fights&quot;&gt;
&lt;em&gt;The player and a kobold trading blows&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I think the effect works pretty well since players will probably be paying more attention to the characters on the screen instead of the messages in the message area or their HP in the sidebar.&lt;/p&gt;
&lt;h3 id=&quot;leveling-up&quot; tabindex=&quot;-1&quot;&gt;Leveling Up&lt;/h3&gt;
&lt;p&gt;I also began to work on what happens when characters level up. For now I just have the two character classes. Every second level their attack bonus goes up and on the odd levels they get a special feature. Right now, Orcish Reavers receive a random boon from among: a strength increase, a constitution increase, bonus HP, a damage bonus, Cleave, or Impale. Impale means if you hit a monster you may also hit a monster behind them. Cleave means you might hit monsters to the left or right of your opponent. I have to think about the implications of those abilities because I haven&#39;t handled the case there a friendly NPC might be in one of the target squares. Likewise, you can Impale or Cleave with any weapon and it doesn&#39;t really make sense to, say, Impale with a club. I&#39;m not sure if that really matters, but on the other hand it might offer the player interesting choices about what weapon to wield.&lt;/p&gt;
&lt;p&gt;Dwarf Stalwarts can get: Strength, Constitution, or Piety (think, Wisdom in D&amp;amp;D) boosts, Impale, or an ability called Shield of the Faithful (which is essentially just an armour class bonus). Stalwarts can eventually learn some prayer/spell type abilities but I haven&#39;t yet made any concrete decisions about how spellcasting will work in the game. Piety will be a Stalwarts spellcasting ability though.&lt;/p&gt;
&lt;h3 id=&quot;shopping&quot; tabindex=&quot;-1&quot;&gt;Shopping&lt;/h3&gt;
&lt;p&gt;A big step toward MVD was beginning to add NPCs to the town and shopping. First, I gave NPCs barks that they can say while the player is walking around the town. This was a fun addition, and really makes me happy I decided to go with a non-breaking game loop. Here&#39;s the town priest:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/bark.png&quot; alt=&quot;A priest in the town calling out devotions&quot;&gt;
&lt;em&gt;Huntokar is a placeholder deity. I&#39;ll actually generate the gods for my game&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Implementing shopping was a fair bit of work and when I first wrote the code for that pop-up window for other stuff, I didn&#39;t occur to me that I&#39;d want to highlight things in colour. Hoo-boy, that turned a rabbit hole of hacking around in my code. But here&#39;s what the shopping screen looks like:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/shopping.png&quot; alt=&quot;Shopping menu in the game&quot;&gt;&lt;/p&gt;
&lt;p&gt;The character has chosen a helmet and 1 dagger, but doesn&#39;t have the funds for both :(&lt;/p&gt;
&lt;h3 id=&quot;topology%3F-geography%3F&quot; tabindex=&quot;-1&quot;&gt;Topology? Geography?&lt;/h3&gt;
&lt;p&gt;Lastly, to add some interest and variety to the dungeon levels, I worked on draw rivers across a level and then adding in bridges so that all areas of the dungeon are still reachable on foot.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/riverbridge.png&quot; alt=&quot;Dungoen map with a river and bridges&quot;&gt;&lt;/p&gt;
&lt;p&gt;The river drawing code was a bit finicky, but adding the bridges was pretty easy! It&#39;s nice when you can just repurpose code you&#39;ve already written. In this case, to connect areas divided by the river, I pick a point in each of two disjoint regions and use my pathfinding code to find a path between them. I then follow the path and when I encounter a water square, I replace it with a bridge.&lt;/p&gt;
&lt;p&gt;The same river drawing code can be used to draw chasms and lava flows simply by switching the character I draw for the &#39;river&#39;.&lt;/p&gt;
&lt;p&gt;Oh, and those are wooden bridges! Eventually I&#39;ll implement the possibility of bridges being destroyed by fire or such. I need to decide what happens if you fall in the water. (If the bridge is over a chasm, you&#39;ll fall to the level below) Falling into lava will probably be very bad...&lt;/p&gt;
&lt;p&gt;So that&#39;s what I&#39;ve worked on over the past week or so!&lt;/p&gt;
&lt;p&gt;The next things I&#39;ll work on are implmeenting randomized gods for the town&#39;s priest and more dungeon decoration features. If I get a decent way through that, the next thing will be developing a boss monster who&#39;ll be waiting for the player on level 5 of the dungeon.&lt;/p&gt;
</content>
</entry>



 <entry>
    <title>Dev Diary 3</title>
    <link href="https://danarama.ca/posts/2024/post6/"/>
    <updated>2024-03-01T00:00:00Z</updated>
    <id>https://danarama.ca/posts/2024/post6/</id>
    <summary>Yarl Update</summary>
    <content xml:lang="en" type="html">&lt;p&gt;Yarl isn&#39;t the name of my game. Yarl is short for Yet Another Roguelike.&lt;/p&gt;
&lt;p&gt;In my head it&#39;s also called Untitled Roguelike, which is accurate and also a nod to the first Twilight Movie, whose pre-production code name was &#39;Untitled Sports Movie&#39;, a name I find delightful. I learned this because for a brief time I worked for a VFX company called Frantic Films who did some work on the first two Twilight films. Also: James Cameron allegedly hates baseball caps and when he&#39;d visit a company doing work for him, staff would be reminded to not wear baseball caps that day.&lt;/p&gt;
&lt;p&gt;I&#39;m getting off topic. In fact, haven&#39;t even got &lt;em&gt;to&lt;/em&gt; topic yet.&lt;/p&gt;
&lt;h3 id=&quot;so-what&#39;s-new%3F&quot; tabindex=&quot;-1&quot;&gt;So what&#39;s new?&lt;/h3&gt;
&lt;p&gt;First up, I began playing around with generating history for my dungeon, as mentioned last time. Mostly just to play around with how to represent historical &#39;facts&#39; and use them to generate dungeon features. I plan to have many types of historical events the RNG will draw from, but for now I am just randomly generating monuments to a battle that happened in the distant past. (The statues and mosaics&#39; descriptions vary depending if the battle was lost or won, and if the ruler was beloved by his people or not)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/statue.png&quot; alt=&quot;The player finds a historic statue!&quot;&gt;
&lt;em&gt;The player finds a historic statue&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;character-creation&quot; tabindex=&quot;-1&quot;&gt;Character creation&lt;/h3&gt;
&lt;p&gt;After that, I continued coding away, adding features and such to slowly make my game more game-like. First up: character creation. My game is going to have character classes a la bog standard D&amp;amp;D, but for simplicity I&#39;ve decided to include lineage and career path. (There&#39;s precedent for this in one version of Basic D&amp;amp;D!) I&#39;m not sure how many different classes the game will have. That&#39;ll depend largely on how much interesting differentiation between character types I can come up with. I&#39;m starting with two warrior-types because then I don&#39;t have to think about how spellcasting and magic is going to work in my game...&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/charselection.png&quot; alt=&quot;Character selection screen&quot;&gt;
&lt;em&gt;The character selection screen&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;At this point I had to make decisions about how represent stats and such in code. But once the player character had stats, I could begin work on combat!&lt;/p&gt;
&lt;h3 id=&quot;fight!&quot; tabindex=&quot;-1&quot;&gt;Fight!&lt;/h3&gt;
&lt;p&gt;My starting point will be 5e-esque rules (although I&#39;m drawing more specifically on Shadowdark instead of vanilla 5e) and worry about game balance and difficulty much later in the development cycle. For now, I wanted my character to be able to walk around and fight monsters in a basic way. One way I&#39;m varying from standard D&amp;amp;D is instead of rolling a d20 for your attack roll, I&#39;m rolling two d20s and averaging them. This should make dice rolls over the course of them closer to a normal distribution instead of an even distribution you&#39;ll see from a single d20 roll. I&#39;m also not doing critical hits and aren&#39;t sure if I&#39;ll add them in later.&lt;/p&gt;
&lt;p&gt;In the interest of fairness, since the player could hit the monsters, the monsters needed the ability to fight back to. And sadly (sadly?) I needed to write code to handle the player being killed.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/death.png&quot; alt=&quot;A character has been killed in my game&quot;&gt;
&lt;em&gt;Don&#39;t grieve this character, they&#39;re just an early alpha test&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;So, when I first gave monsters the ability to find the player, move toward them, and attack, they would swarm the player very quickly. My fix for that was to generate most monsters in an Idle state and then have the player&#39;s movement wake them up. Right now, what I do to alert monsters is a flood-fill with each step the character takes out to a distance of 15 squares (blocked by walls, doors, etc). 15 was an arbitrary number. But in the future I&#39;ll have character classes who are more stealthy -- maybe their footfalls only radiate out to, say, 5 squares. And magic items and spells could also reduce your noisiness. Anyhow, I have a nascent stealth system!&lt;/p&gt;
&lt;p&gt;But then it occurred to me that I could also have the monsters make noise and alert the player. I thought this would be a nice effect since I am limiting the player&#39;s vision to range of their torchlight so:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/footsteps.png&quot; alt=&quot;The character hears footsteps&quot;&gt;
&lt;em&gt;Ooo -- spooky footsteps in the distance :o&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;and-onward&quot; tabindex=&quot;-1&quot;&gt;And onward&lt;/h3&gt;
&lt;p&gt;Right now, all monsters cause &#39;padding footsteps&#39; but I&#39;ll need to provide differing descriptions in my monster definitions. Dire bats, for example, aren&#39;t going to make pading footsteps. Next up, I&#39;ll add XP for defeating monsters and think about levelling up. Right now, my plan is that upon levelling up is the character will get a random new boon. A stat increase, a special ability from their class, bonus hit points, etc, etc. Some other ideas I had were similar to 5e&#39;s Feats, but I&#39;d like those to be less random. Like, if you&#39;ve been carrying around a greatsword a lot, you may get an ability that makes you better with your greatsword. Or if you&#39;ve been using a shield, maybe you get shield bash. Just a few ideas. (I&#39;m not sure if/how I want to actually track for how many turns a character has had certain gear equiped)&lt;/p&gt;
&lt;p&gt;Once a player can level up, the next things I&#39;ll add to the game are more items like healing potions. At the moment, there&#39;s no way for the player to get HP back, which impedes testing a bit :P As part of my push toward Minimum Viable Dungeon, I&#39;ll develop up to level 5 characters and populate the dungeon down to level 5. After that I think I&#39;ll turn to the village and work on the NPCs the player will get to interact with.&lt;/p&gt;
&lt;p&gt;There&#39;s a Game Jam for roguelike development the first week of March called the &lt;a href=&quot;https://itch.io/jam/7drl-challenge-2024&quot;&gt;Seven Day Roguelike Challenge&lt;/a&gt; where you attempt to make an entire roguelike in a week. I&#39;m not taking part because I don&#39;t have an idea I think I could complete in seven days, but I have Friday off work so I&#39;m going to spend most of the day working on my game in solidarity.&lt;/p&gt;
</content>
</entry>



 <entry>
    <title>Hypo Half 2024 - Hoo-boy...</title>
    <link href="https://danarama.ca/posts/2024/post5/"/>
    <updated>2024-02-25T00:00:00Z</updated>
    <id>https://danarama.ca/posts/2024/post5/</id>
    <summary>My first half-marathon in 3 years was not ideal</summary>
    <content xml:lang="en" type="html">&lt;p&gt;Well.&lt;/p&gt;
&lt;p&gt;That sucked.&lt;/p&gt;
&lt;p&gt;Okay, it didn&#39;t actually suck. It was more like I ran a pretty good 9.5 mile race and then immediately followed it up with a truly awful 3.5 mile race.&lt;/p&gt;
&lt;h3 id=&quot;a-little-race-report&quot; tabindex=&quot;-1&quot;&gt;A little race report&lt;/h3&gt;
&lt;p&gt;I was pretty stoked to start training for this one because my running in summer and fall of 2023 had gone pretty well. So when I signed up, I had in mind 2:30 as a goal time. A little bit ambitious given the paces I&#39;d been hitting during my summer jogs, but it felt possible. In 2021 during the Pandemic I&#39;d run the Hypo as a virtual race and finished in 2:39 plus change and I was in much better shape this year. In fact, I ran 12 miles a couple of Mondays ago as my final long run and was on pace for around 2:35 if I&#39;d kept going.&lt;/p&gt;
&lt;p&gt;Man makes plans, etc, etc.&lt;/p&gt;
&lt;p&gt;I was also stoked for this because the Hypothermic Half is one of my favourite races and a few years ago it moved to become sort of part of Festival du Voyageur, with the race begining and ending at Fort Gibralter. My favourite race! Basically in my backyard! (The worst part of any race is logistics so the start line being a 10 minute walk from home is sweet)&lt;/p&gt;
&lt;p&gt;It was a great day to run temperature-wise. I think it was around -8 Celsius when we started. A bit breezy but I barely noticed it. Ice was a problem because of all the melting and freezing we had in February but I didn&#39;t have any problems thanks to a pair Icebug Certas. I&#39;ve probably put more miles on them this winter than all previous winters since I bought them several years ago.&lt;/p&gt;
&lt;p&gt;So, I maintained my goal pace through St Boniface and Ft Rouge, hit the turn around point with a solid minute or so cushion and then...after 9.5 miles I just crapped out. I could barely put one foot in front of another and finally stumbled to the finish line around 2:43. Embarrassing. (That&#39;s my watch time, my chip time will be a few minutes slower beucase I paused my watch when I had to take a bathroom break)&lt;/p&gt;
&lt;p&gt;Ah well, I&#39;m still pleased to have got at least a half-marathon finish under belt after a few years of pretty crappy running. I think I have the fitness to beat 2:30 but just had a bad day. And now I have spring, summer, and fall to train more and perhaps do another half in October.&lt;/p&gt;
&lt;p&gt;The nice thing about running as a hobby is that if you have a fantastic race or a garbage one, either way you do the same thing: rest and recover from the race and get back to training.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/hypomedal.png&quot; alt=&quot;Author posting with a half-marathon race medal&quot;&gt;
&lt;em&gt;I guess it was all worth it for a medal featuring a yeti on a snowboard...&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;so-what-is-next%3F&quot; tabindex=&quot;-1&quot;&gt;So what IS next?&lt;/h3&gt;
&lt;p&gt;I mentioned in an earlier running post how I was musing about trying to work on my 5k time and I think that&#39;s my next plan. I&#39;m going to take it easy through March and then in April I&#39;ll do a 5k time trial to see where I&#39;m at, then train hard for 8 weeks to see how much I can improve. I jinxed myself by talking about my half-marathon goal time but I&#39;m going to do it again. I think 27 or 28 minutes might be doable! We&#39;ll see, though. I think my best 5k this year (when I say year, I mean since last May) has been 34ish minutes but I didn&#39;t really train for speed in 2023.&lt;/p&gt;
&lt;p&gt;For fun and curiousity, I think I&#39;m going to let my Garmin tell me what workouts to do. It &lt;em&gt;claims&lt;/em&gt; to create training programs adapted for your fitness and I&#39;m quite curious to see what it comes up with.&lt;/p&gt;
&lt;p&gt;After that, I&#39;ll probably just go back to building base though the summer and then come August start ramping up again for a potential October half.&lt;/p&gt;
</content>
</entry>



 <entry>
    <title>Dev Diary 2</title>
    <link href="https://danarama.ca/posts/2024/post4/"/>
    <updated>2024-02-21T00:00:00Z</updated>
    <id>https://danarama.ca/posts/2024/post4/</id>
    <summary>I guess I have a dev diary now...</summary>
    <content xml:lang="en" type="html">&lt;h3 id=&quot;progress!&quot; tabindex=&quot;-1&quot;&gt;Progress!&lt;/h3&gt;
&lt;p&gt;Work on my game continues! I&#39;m still in the infrastructure and plumbing phase, ie., working on a lot of things that would be taken care of by a game engine, were I using one. I reworked a bunch of stuff surrounding the user interface; for instance in this week&#39;s screen shots you&#39;ll see that I&#39;m now displaying messages at the bottom of the game&#39;s window and the last few messages are shown along with the most recent. I&#39;m also using pop-up windows for some user interaction but I&#39;m inconsistent at the moment.&lt;/p&gt;
&lt;p&gt;A big new feature is making light sources work, including ones that are independent of the player. This meant thinking about how turns worked in the gameloop. Torches essentially get a turn along with the player and monsters, with their turn consistently of reducing the amount of fuel they have remaining and burning out when their fuel reaches zero. Most recently, I reworked how I implemented items in code. My first instinct had been to have a Torch be a subclass of a general Item class and contain the code for being a light source and tracking fuel, etc. But that turned serialization for saving/reloading the game into a minor nightmare. The C# serialization libraries don&#39;t like class hierarchies it seems. My solution was to get rid of subclasses of Item and introduce a list of Traits that each item has. So, a weapon becomes an item with the Melee Attack trait, and a torch is an item with the light source trait. The details aren&#39;t too important but this makes serialization/deserialization a lot easier (or at least comprehensible to me). I was annoyed by having to rewrite a bunch of stuff but I think this is a better way to do items anyhow. In the future, a magic sword that glows won&#39;t really require any special case code. It&#39;s now just an item that has both the Melee Attack and Light Source traits.&lt;/p&gt;
&lt;p&gt;Also for fun, I added an animation to make the torchlight flicker when the player is in the dungeon.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/torchlight.gif&quot; alt=&quot;Flickering torchlight!&quot;&gt;
&lt;em&gt;At least, I hope the effect gives the impression of torchlight&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;the-beginings-of-a-town&quot; tabindex=&quot;-1&quot;&gt;The beginings of a town&lt;/h3&gt;
&lt;p&gt;My game is going to have a town in the wilderness you will visit in between dungeon dives, and hopefully (eventually) interesting NPCs to interact with. I&#39;ve started thinking about how they might have some information about the dungeon and the Big Bad and how they might impart that info to the player, and a few other things to do in town. But in the meantime, I have the code working to randomly generate a bunch of buildings and draw the roads between them. It&#39;s pretty rudimentary right now but I&#39;ll worry about more varying town layouts in the future. Look, look, when drawing the roads in town if the pathfinder crosses a river it adds a bridge. (Which can result in some pretty goofy looking towns depending how the paths between buildings go)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/basictown.png&quot; alt=&quot;Buildings in town&quot;&gt;
&lt;em&gt;Future home for adventurers&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;minimum-viable-dungeon&quot; tabindex=&quot;-1&quot;&gt;Minimum Viable Dungeon&lt;/h3&gt;
&lt;p&gt;I&#39;m looking forward to finishing up - for now - with the infrastructure-type code and moving on to stuff that&#39;s more actual game content! Hopefully this week?&lt;/p&gt;
&lt;p&gt;My next milestone is what I&#39;ve been thinking of as a Minimum Viable Dungeon. Having enough stuff that it kind of, sort of, feels like an actual computer RPG. Nowhere near a full game, but I&#39;d like you to be able to make a character, enter the dungeon, explore down to level 5, and defeated a boss there. Along the way will be some of the features of the full game. Monsters to fight, treasures to find, a few traps or puzzles. I want to have NPCs in the town and for you to be able to interact with them, even if they&#39;re just spouting some canned lines. You&#39;ll be able to buy and sell from the smithy as well.&lt;/p&gt;
&lt;p&gt;Another thing I want to have in my game is to generate some history of the dungeon and then seed hints of that throughout its levels. If the dungeon was originally built by a dwarven king or a mad wizard, I want to place some hints about that history. A statue here, a scroll with a fragment of the site&#39;s history there, stuff like that. Right now, I&#39;m thinking maybe of generating a founder for the dungeon, a reason why it originally fell to ruin, and maybe a few other randomized historical events. This is stuff I&#39;ve never attempted to implement in code before so I imagine it&#39;s going to be a lot of trial and error. But I want to have a very basic version in the MVD.&lt;/p&gt;
&lt;p&gt;I&#39;m not setting myself a deadline or timeline since this is meant to be a fun project for my spare time. It&#39;s been occupying a lot of space in my brain lately but hopefully I&#39;ll settle down to working on it for only a few hours a week once the initial lustre of a new project wears off a bit.&lt;/p&gt;
&lt;p&gt;Perhaps by the time I&#39;ve hit the Minimum Viable Dungeon I&#39;ll have even come up with a name for the game!&lt;/p&gt;
</content>
</entry>



 <entry>
    <title>Yet Another Yet Another Roguelike</title>
    <link href="https://danarama.ca/posts/2024/post3/"/>
    <updated>2024-02-12T00:00:00Z</updated>
    <id>https://danarama.ca/posts/2024/post3/</id>
    <summary>Back on my roguelike bullshit</summary>
    <content xml:lang="en" type="html">&lt;h3 id=&quot;but-why%2C-dana%3F&quot; tabindex=&quot;-1&quot;&gt;But why, Dana?&lt;/h3&gt;
&lt;p&gt;Listen, I love games like &lt;a href=&quot;https://nethack.org/&quot;&gt;nethack&lt;/a&gt;, &lt;a href=&quot;https://rephial.org/&quot;&gt;Angband&lt;/a&gt;, and &lt;a href=&quot;https://github.com/tmewett/BrogueCE&quot;&gt;brogue&lt;/a&gt;. Even some of their gussied-up children like &lt;a href=&quot;https://www.supergiantgames.com/games/hades/&quot;&gt;Hades&lt;/a&gt;. And despite coding being my day job, I still find it a lot of fun, too. And roguelkes and coding are two great tastes that go great together.&lt;/p&gt;
&lt;p&gt;When you&#39;re a programmer and you play a game like this, I think it&#39;s natural to think about how it is implemented. So, as happens to me periodically, I got the itch the work on a roguelike and this time I decided to scratch that itch. My &lt;a href=&quot;https://github.com/DanaL/rogue_village&quot;&gt;last attempt&lt;/a&gt; was back in 2021 and I&#39;d made some good progress until fighting with Rust just got to be too much. After a couple of months with the language I was still regularly fighting with the compiler and it made working on my game a miserable experience. This time I&#39;m using C# (my day job language, and I genuinely like it as well) and my main goal this time is the game itself and not learning a new programming language.&lt;/p&gt;
&lt;h3 id=&quot;a-week-into-it&quot; tabindex=&quot;-1&quot;&gt;A week into it&lt;/h3&gt;
&lt;p&gt;So far my work has been infrastructure stuff: opening a display, drawing characters on it, moving your avatar around, etc. I implemented brand new dungeon generator and field-of-view algorithms (I mean new to me, not that I invented them!) and translated my old Rust code for generating an over-world wilderness map. As in the past, getting the display has been a dilemma for me. My game uses ASCII characters like a traditional roguelike because (1) I do not have the skill to make my own sprites and (2) for a game like nethack I legit find the ASCII display cleaner and easier to read than squinting at low-res tilesets while trying to figure out what monsters are nearby but figuring out a cross-platform terminal solution can be a pain. In my Rust game, I was using SDL and this time I decided to try a library designed for roguelikes called Bearlibterminal. It does exactly what I want and is quite simple! The fly in the ointment is that whle it&#39;s cross-platform, it&#39;s an older project and not really updated anymore. I couldn&#39;t find binaries for it compiled for Apple silicon and when I compiled it myself, it worked for certain defitions of work, but had bad display glitches. The low-level guts of displaying my game aren&#39;t what I&#39;m interested in so I also translated my Rust code for an SDL2 display to C# and got that working! This is good in a way, because it forced me to separate my UI code so that the details of how things are shown on the screen is separated from the game logic and higher-level UI logic. If I want to add true terminal support or even -- heaven forfend -- sprites in the future, it should be fairly easy.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/wilderness.png&quot; alt=&quot;In the wilderness&quot;&gt;
&lt;em&gt;In the wilderness. I&#39;m pleased with this colour scheme -- it gives me Ultima IV vibes.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/indungeon.png&quot; alt=&quot;Exploring a dungeon&quot;&gt;
&lt;em&gt;Exploring a (currently empty) dungeon!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;At this point, I&#39;ve implemented a lot of the basic UI stuff. Menus for your inventory and picking up/dropping items, save and loading game (so it doesn&#39;t become a big, tricky thing later). Lots of work to do before thinking about adding actual content to the game...&lt;/p&gt;
&lt;p&gt;One thing I did different than my previous stabs at roguelikes is to have a non-blocking main game loop. What I mean is that the simplest way to implement a turn-based game is to just have the game processing grind to a halt when it&#39;s waiting for user input. But in &#39;real&#39; games this doesn&#39;t happen. Even in a turn-based game you may still want to have music playing or animations going while the player is idle. Getting this to work nearly broke my brain, but I did it! I&#39;m not sure what I&#39;ll actually use the feature for but it was neat to work on. In the meantime, I implemented clouds that float by on the wilderness map whlie player is idle!&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/clouds.gif&quot; alt=&quot;Animated gif of clouds drifting across an ASCII landscape&quot;&gt;
&lt;em&gt;I am way too amused by my animated clouds&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Next up, I&#39;ll probably work on implementing some simple monsters and get them walking around the world.&lt;/p&gt;
&lt;h3 id=&quot;the-future&quot; tabindex=&quot;-1&quot;&gt;The future&lt;/h3&gt;
&lt;p&gt;The thing is, I don&#39;t have any grand plans for the game. I&#39;m not like &amp;quot;here&#39;s a niche in the genre I want to explore&amp;quot; or &amp;quot;here&#39;s what I dislike about nethack&amp;quot;. It&#39;s just fun to work on the game and just cool to see my little @ dude walking around in a world that my code created!&lt;/p&gt;
&lt;p&gt;So I&#39;m going to do a fairly generic fantasy roguelike rpg where you need to descend into a dungeon and kill the bad guy lurking in its depths. But I have some ideas to make my game distinct a bit from, say, Angband. There will be a town not far from the dungeon (the premise of the game is that you&#39;ve arrived to rescue the town from the danger lurking in the dungeon)
with NPCs who know things about the dungeon. Previous adventurers may have mentioned the vampire on level 7 or the hidden shrine on level 4. The villagers might mentioned an earthquake a few months back (resulting in some of the dungeon levels being partially destroyed and full of rubble). I want a dungeon with some history. Some other vague ideas: the player may find a scrap of a journal from an explorer who talks about how the Rat Prince is immune to fire, etc. So, I&#39;ll need to generate most of the dungeon in advance. I&#39;d also like to have a few different end game bosses and as you get deeper in the dungeon the levels become more theme-appropriate. If the final boss is a balrog levels might progressively have more lava and fire-based monsters. If the final boss is a lich, more undead. I haven&#39;t played Caves of Qud but I gather it has a very deep, procedurally generated in-game history so that will be a game I need to research (ie., play a bunch).&lt;/p&gt;
&lt;p&gt;I&#39;d like the townsfolk to be fairly rich. I don&#39;t know how well that can be done procedurally so perhaps I&#39;ll have a pool of NPCs whose dialogue is somewhat hard-coded and then each game will get a random subset of those NPCs. People don&#39;t mind interacting with the same characters in multiple play-throughs of, say, Stardew Valley so I don&#39;t think that will be too much of a problem. I have no idea yet how to code NPCs and how to store the generated facts about the world in a way the NPCs can use, so that&#39;ll be something to research.&lt;/p&gt;
&lt;p&gt;I was also thinking about a grit/stress mechanic similar I guess to games like Darkest Dungeon. So if you spend too long in the dungeon your stress starts to increase and you accrue penalties and status ailments (fear of darkness, nervousness, or you become reckless, stuff like that). I hope this might promote some risk/reward decisions, as in how far does the player push their luck. And it will also hopefully encourage the player to return to the surface to interact with the NPCs since they&#39;ll need a spa day to recover. Finally, what if after a certain amount of time has passed, the Boss Monster bursts form from the dungeon and lays waste to the town?&lt;/p&gt;
&lt;p&gt;I&#39;d like the overworld to be somewhat living. As in, there are occasional events on the surface that affect the game. A necromancer might take up residence in a cave and plague the area with zombies. Pirate raiders might come ashore. Townfolks might move in and out, etc, etc. An unnatural winter rolls in.&lt;/p&gt;
&lt;p&gt;These are all pie-in-the-sky ideas for the moment!&lt;/p&gt;
&lt;p&gt;For now, my current goal is to create a Minimum Viable Dungeon: a 10 level main dungeon, a boss at the bottom so there is a win condition, a bit of the aforementioned dungeon theming, and enough content to make those 10 levels not boring. A town with NPCs even if they are dead simple and have a few canned lines to speak. Some shop keepers.&lt;/p&gt;
&lt;p&gt;I haven&#39;t named the game yet, but the &lt;a href=&quot;https://github.com/DanaL/Yarl2&quot;&gt;code is on github&lt;/a&gt; under a CC0 license. I consider my code to be in the public domain!&lt;/p&gt;
</content>
</entry>



 <entry>
    <title>Running, running, running...</title>
    <link href="https://danarama.ca/posts/2024/post1/"/>
    <updated>2024-01-22T00:00:00Z</updated>
    <id>https://danarama.ca/posts/2024/post1/</id>
    <summary>I got tired of being an erstwhile runner. I wanted to be a runner again!</summary>
    <content xml:lang="en" type="html">&lt;h3 id=&quot;getting-back-into-it&quot; tabindex=&quot;-1&quot;&gt;Getting Back Into It&lt;/h3&gt;
&lt;p&gt;I got tired of being an erstwhile runner. I wanted to be a runner again!&lt;/p&gt;
&lt;p&gt;2022 was not a great year for me for running. I&#39;d gone through a lazy stretch and struggled with making any running progress. Then, in October 2022 I finally lost my Novid status and after recovering from that it had turned cold. I like winter running but without November to acclimatize I felt lazy and wimpy. Long story short, I did hardly any running between September 2022 and May 2023. But this time I wanted to come up with a solid plan that would ease me back into running. I wanted a plan that would keep me steadily improving, while being flexible, and keep any setbacks from turning into major disasters.&lt;/p&gt;
&lt;p&gt;The obvious choice was to begin with run/walk intervals and I tried to be as loose and easy about this possible. I didn&#39;t plan the intervals and mostly just went by feel. I&#39;d run when I felt good and walk when I felt I needed it. This was all over the place for most of the summer. Some days I&#39;d do 4 or 5 minute intervals and some I could barely manage a minute of running. I recall on one of my first few runs, I did a few run/walks and then a straight 20 minute run that felt easy and relaxed. It would be weeks before that happened again.&lt;/p&gt;
&lt;p&gt;I think the big game changer was to plan my runs around time rather than distance. Instead of thinking &amp;quot;I&#39;m going out for a 3 mile run&amp;quot;, I ran for time instead. Initially 30 minutes and I increased the duration as the weeks went by. I&#39;m not sure why this felt so different, but thinking &amp;quot;Okay, I just need to get out there for X minutes regardless of how much I walk&amp;quot; fomented a huge attitude shift over, &amp;quot;I&#39;m running this 3 three miles &lt;strong&gt;so much&lt;/strong&gt; slower than I used to be able to.&amp;quot;&lt;/p&gt;
&lt;p&gt;I started off running three times a week and later added a fourth once I&#39;d built up to 45 minutes for my main three runs. This allowed for lots of flexibility in my schedule and I never had to feel too stressed out about getting in my workouts. Come August, I began to extend my weekend run into a long run and built it up to 90 minutes. Also by August I was mostly running steady, only taking walk breaks on days I was especially tired or feeling a bit under the weather.&lt;/p&gt;
&lt;p&gt;This plan worked great! I&#39;m quite happy I was able to make steady progress, avoid injury, and maintain my motivation. I think I could have been more aggressive about increasing volume and/or intensity but being very conservative was probably the best strategy for me. In October, I began to do one run per week as pretty informal speedwork, more or less fartlek-style. I did fast intervals interspersed with walk breaks, of varying speed and length with my only criteria that I ran faster than what had been my typical easy jogging pace over the summer. My main goal here was to add some fun and variety to my training and start to get my body used to the idea of running faster again.&lt;/p&gt;
&lt;h3 id=&quot;half-marathon-training&quot; tabindex=&quot;-1&quot;&gt;Half-Marathon Training&lt;/h3&gt;
&lt;p&gt;When October rolled around and running was still going well, I decided to register for &lt;a href=&quot;https://www.hypothermichalf.com/&quot;&gt;the Hypothermic Half-Marathon&lt;/a&gt;, a favourite local race held at the end of February. I honestly find I thrive a bit in cold weather vs the summer heat and I&#39;d say -5 celsius is probably my favourite temperature for running. I ran the Hypo Half during the Pandemic in 2021 as a virtual race and I finally felt like I was in a position to build up to being able to finish again, and maybe beat my time from 2021.&lt;/p&gt;
&lt;p&gt;The first step was to draw up a training plan. I decided on a 12 week plan, which would mean officially starting in the first week of December, giving me October and November to continue building base. I&#39;d stick with 4 days week so that trainiing didn&#39;t take over my life and crosstrain via rucking and cross country skiing when I was able to squeeze them in. (Unfortunately my part of the world is in a drought and we wouldn&#39;t see enough snow to ski until the middle of January). A lot of beginner/easy plans start with 2 and 3 mile runs and fairly short long runs but I decided to stick with the volume I&#39;d already built up to (45 minute weekday runs and a 90 minute long run). For my speedwork, I&#39;d do steady state runs at my goal half-marathon pace. In 2021, I ran the Hypo in 2:39 (which by the way is about 40 minutes slower than my PR set back in September 2014). My goal was to beat 2:30, which would mean 11:27/mile.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/hhplan.png&quot; alt=&quot;screen shot of training plan from Google Sheets&quot;&gt;&lt;/p&gt;
&lt;p&gt;So there&#39;s my plan in Google Sheets! I&#39;ve been marking completed runs in green if they went well, and yellow if not so much. I missed a handful of workouts due to picking up a cold over the Christmas break, which is annoying but I don&#39;t think will have any appreciable impact on my fitness. I&#39;ve actually been managing my pace runs faster than 11:27, often closer 11:00, which is pretty exciting. My longest run will be 12 miles and then I&#39;ve given myself a nice, long taper to ensure I&#39;m very well rested on race day.&lt;/p&gt;
&lt;p&gt;Starting with on the 9 mile run, I&#39;m eating gels to check how they get along with my stomach. I haven&#39;t had problems in the past, but it&#39;s always good to test this stuff before race day.For the race itself I think I&#39;ll probably take a gel at 4.5 and 9 miles.&lt;/p&gt;
&lt;p&gt;This past weekend was my 9 mile run and if I&#39;d continued at the same pace I was going, I would have beat my 2021 time by a minute or two! This has me pretty stoked for the race itself: I&#39;m confident I am fit enough to finish, will probably beat my last half-marathon, and now it&#39;s a matter of how fit can I get over the next month. I&#39;m now thinking about how much I can beat my initial goal time by.&lt;/p&gt;
&lt;h3 id=&quot;the-spring%2C-and-what&#39;s-next&quot; tabindex=&quot;-1&quot;&gt;The Spring, And What&#39;s Next&lt;/h3&gt;
&lt;p&gt;After the Hypothermic Half I&#39;ll take it pretty easy through March: the week after will be recovery and then I&#39;ll build back up to 45 minute weekday runs plus a weekly 90 minute long run. This worked great for me last year so I don&#39;t see any reason to change! Once the snow and ice is gone, for the spring and early summer, I want to focus on improving my 5k time. I figure I&#39;ll do a test race/time trial to set a mark and then do an 8-week training block with two higher intensity workouts per week. One will be speedwork (I&#39;ll probably mix it up between intervals, ladder workouts, and tempo runs) and the other will be either hills or a second speedwork session. Sometime in June I&#39;ll do another &#39;race&#39; and see how much I&#39;ve improved. I&#39;ll have to look around and see if there are any local 5ks that will fit my schedule, otherwise I can just time my own 5k. But the atmopshere of a real race can sometimes squeeze a bit more speed out of you!&lt;/p&gt;
&lt;p&gt;For the summer and fall, I&#39;m not sure yet! Maybe another 5k or 10k? Perhaps an October half-marathon?&lt;/p&gt;
</content>
</entry>



 <entry>
    <title>Hello, world</title>
    <link href="https://danarama.ca/posts/2024/post2/"/>
    <updated>2024-01-18T00:00:00Z</updated>
    <id>https://danarama.ca/posts/2024/post2/</id>
    <summary>A blog begins</summary>
    <content xml:lang="en" type="html">&lt;p&gt;Hello, world?&lt;/p&gt;
</content>
</entry>



</feed>